

<script>

function loadPage() {
	document.login.user.value = "";

    if (document.login.user.value == '')
	    document.login.user.focus();

	var errMsg = "";
	var respStatus = "Success";
	var respMsg = "";
	if (respStatus == "Error") {
		if (errMsg != "")
			errMsg += "<br><br>";
		errMsg += "<li>"+respMsg;
	} else if (respStatus == "Challenge") {
		var divUserName = document.getElementById("dUserName");
		divUserName.style.display = "none";
		var passwdTitle = document.getElementById("passwdTitle");
		passwdTitle.innerHTML = "";
		
		var divInputStr = document.getElementById("dInputStr");
		divInputStr.style.display = "block";
		divInputStr.innerHTML = respMsg;
	}
	// respStatus can also be "" when we come to this page the first time

	if (errMsg != "") {
		var divObj = document.getElementById("dError");
		
		divObj.style.display = "block";
		divObj.innerHTML = errMsg;
	}
}

function submitClicked() {
	var thisForm = document.getElementById("login_form");
	// hide the error div, just incase it was showing.
	var divObj = document.getElementById("dError");
	divObj.style.display = "none";
	divObj.innerHTML = "";

	var divTaLogin = document.getElementById("taLogin");
	divTaLogin.style.display = "none";

    thisForm.inputStr.value = "";
    thisForm.escapeUser.value = thisForm.user.value.replace(/\\/g, "\\\\");
    
}

function onClickHandler() {
	submitClicked();
}

</script>

	<form name="login" id="login_form" method="post">
        <input type='hidden' name="inputStr" value="">
        <input type='hidden' name="escapeUser" value="">        
    
        <div id="taLogin">
             <table>
                  <tr id="dUserName">
                      <td>Name</td>
	                  <td><input type="text" id="user" name="user" size="19"></td>
	              </tr>
	              <tr>
                      <td><span id="passwdTitle">Password</span></td>
	                  <td>
                          <div id="dInputStr" style="display:none"><br></div>
						  <input type="password" maxlength="40" size="19" name="passwd">
	                  </td>
	              </tr>
              	  <tr>
                  	  <td>&nbsp;</td>
	                  <td><input class="buttonFixed" type="submit" id="submit"
                          name="ok" value="Login" onClick="submitClicked()"></td>
	              </tr>
             </table>
         </div>
	</form>
    <div id="dError" class="msg" style="display:none"></div>

